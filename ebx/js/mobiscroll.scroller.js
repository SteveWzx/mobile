(function(H){H.mobiscroll.classes.Scroller=function(c,u){var Ar,Ax,Al,AA,As,q,At,Y,Av,AL,AH,Ad,Ak,AI,AC,AK,g,n,a,AG,Ay,Ah,w,AY,i,r,Au,f,AX,AW,t,AJ,AP,Af,AN,AV=this,o=c,AQ=H(o),Aj=P({},A),Ae={},d={},Ao={},b={},AO=[],Ac=[],Ap=AQ.is("input"),l=false,Ai=function(m){if(S(m)&&!R&&!AC&&!AN&&!AT(this)){m.preventDefault();R=true;g=Aj.mode!="clickpick";r=H(".dw-ul",this);AF(r);n=d[Au]!==undefined;Ah=n?j(r):Ao[Au];a=E(m,"Y");AG=new Date();Ay=a;AU(r,Au,Ah,0.001);if(g){r.closest(".dwwl").addClass("dwa")}H(document).on(J,h).on(L,AD)}},h=function(m){if(g){m.preventDefault();m.stopPropagation();Ay=E(m,"Y");AU(r,Au,W(Ah+(a-Ay)/Ax,w-1,AY+1))}if(a!==Ay){n=true}},AD=function(A1){var A4=new Date()-AG,s=W(Ah+(a-Ay)/Ax,w-1,AY+1),AZ,m,v,p=r.offset().top;if(A4<300){AZ=(Ay-a)/A4;m=(AZ*AZ)/Aj.speedUnit;if(Ay-a<0){m=-m}}else{m=Ay-a}v=Math.round(Ah-m/Ax);if(!m&&!n){var A2=Math.floor((Ay-p)/Ax),A3=H(H(".dw-li",r)[A2]),A0=g;if(AE("onValueTap",[A3])!==false){v=A2}else{A0=true}if(A0){A3.addClass("dw-hl");setTimeout(function(){A3.removeClass("dw-hl")},200)}}if(g){Ag(r,v,0,true,Math.round(s))}R=false;r=null;H(document).off(J,h).off(L,AD)},Z=function(m){if(AN){AN.removeClass("dwb-a")}AN=H(this);H(document).on(L,Am);if(!AN.hasClass("dwb-d")&&!AN.hasClass("dwb-nhl")){AN.addClass("dwb-a")}if(AN.hasClass("dwwb")){if(S(m)){k(m,AN.closest(".dwwl"),AN.hasClass("dwwbp")?Aa:AB)}}},Am=function(m){if(AC){clearInterval(f);AC=false}if(AN){AN.removeClass("dwb-a");AN=null}H(document).off(L,Am)},Ab=function(m){if(m.keyCode==38){k(m,H(this),AB)}else{if(m.keyCode==40){k(m,H(this),Aa)}}},AM=function(m){if(AC){clearInterval(f);AC=false}},y=function(s){if(!AT(this)){s.preventDefault();s=s.originalEvent||s;var p=s.wheelDelta?(s.wheelDelta/120):(s.detail?(-s.detail/3):0),m=H(".dw-ul",this);AF(m);Ag(m,Math.round(Ao[Au]-p),p<0?1:2)}};function k(s,p,v){s.stopPropagation();s.preventDefault();if(!AC&&!AT(p)&&!p.hasClass("dwa")){AC=true;var m=p.find(".dw-ul");AF(m);clearInterval(f);f=setInterval(function(){v(m)},Aj.delay);v(m)}}function AT(m){if(H.isArray(Aj.readonly)){var e=H(".dwwl",AA).index(m);return Aj.readonly[e]}return Aj.readonly}function Aq(e){var s='<div class="dw-bf">',A0=AO[e],A1=A0.values?A0:Q(A0),p=1,m=A1.labels||[],v=A1.values,AZ=A1.keys||v;H.each(v,function(A3,A2){if(p%20==0){s+='</div><div class="dw-bf">'}s+='<div role="option" aria-selected="false" class="dw-li dw-v" data-val="'+AZ[A3]+'"'+(m[A3]?' aria-label="'+m[A3]+'"':"")+' style="height:'+Ax+"px;line-height:"+Ax+'px;"><div class="dw-i">'+A2+"</div></div>";p++});s+="</div>";return s}function AF(e){w=H(".dw-li",e).index(H(".dw-v",e).eq(0));AY=H(".dw-li",e).index(H(".dw-v",e).eq(-1));Au=H(".dw-ul",AA).index(e)}function An(m){var e=Aj.headerText;return e?(typeof e==="function"?e.call(o,m):e.replace(/\{value\}/i,m)):""}function Aw(){AV.temp=AV.values?AV.values.slice(0):Aj.parseValue(AQ.val()||"",AV);AS()}function j(m){var p=window.getComputedStyle?getComputedStyle(m[0]):m[0].style,s,e;if(C){H.each(["t","webkitT","MozT","OT","msT"],function(A0,AZ){if(p[AZ+"ransform"]!==undefined){s=p[AZ+"ransform"];return false}});s=s.split(")")[0].split(", ");e=s[13]||s[5]}else{e=p.top.replace("px","")}return Math.round(Ar-(e/Ax))}function AR(e,m){clearTimeout(d[m]);delete d[m];e.closest(".dwwl").removeClass("dwa")}function AU(AZ,s,p,A1,m){var v=(Ar-p)*Ax,A0=AZ[0].style,e;if(v==b[s]&&d[s]){return}if(A1&&v!=b[s]){AE("onAnimStart",[AA,s,A1])}b[s]=v;A0[N+"Transition"]="all "+(A1?A1.toFixed(3):0)+"s ease-out";if(C){A0[N+"Transform"]="translate3d(0,"+v+"px,0)"}else{A0.top=v+"px"}if(d[s]){AR(AZ,s)}if(A1&&m){AZ.closest(".dwwl").addClass("dwa");d[s]=setTimeout(function(){AR(AZ,s)},A1*1000)}Ao[s]=p}function x(s,A3,A5){var A1=H('.dw-li[data-val="'+s+'"]',A3),A0=H(".dw-li",A3),A4=A0.index(A1),p=A0.length;if(!A1.hasClass("dw-v")){var e=A1,AZ=A1,A2=0,m=0;while(A4-A2>=0&&!e.hasClass("dw-v")){A2++;e=A0.eq(A4-A2)}while(A4+m<p&&!AZ.hasClass("dw-v")){m++;AZ=A0.eq(A4+m)}if(((m<A2&&m&&A5!==2)||!A2||(A4-A2<0)||A5==1)&&AZ.hasClass("dw-v")){A1=AZ;A4=A4+m}else{A1=e;A4=A4-A2}}return{cell:A1,v:A4,val:A1.attr("data-val")}}function z(m,s,v,e,p){if(AE("validate",[AA,s,m,e])!==false){H(".dw-ul",AA).each(function(A2){var AZ=H(this),A0=A2==s||s===undefined,A1=x(AV.temp[A2],AZ,e),A3=A1.cell;if(!(A3.hasClass("dw-sel"))||A0){AV.temp[A2]=A1.val;if(!Aj.multiple){H(".dw-sel",AZ).removeAttr("aria-selected");A3.attr("aria-selected","true")}H(".dw-sel",AZ).removeClass("dw-sel");A3.addClass("dw-sel");AU(AZ,A2,A1.v,A0?m:0.1,A0?p:false)}});Al=Aj.formatResult(AV.temp);if(AV.live){AS(v,0,true)}H(".dwv",AA).html(An(Al));if(v){AE("onChange",[Al])}}}function AE(e,m){var p;m.push(AV);H.each([Ak,Ae,u],function(AZ,s){if(s&&s[e]){p=s[e].apply(o,m)}});return p}function Ag(A0,A1,A3,m,v){A1=W(A1,w,AY);var s=H(".dw-li",A0).eq(A1),p=v===undefined?A1:v,e=v!==undefined,AZ=Au,A2=m?(A1==p?0.1:Math.abs((A1-p)*Aj.timeUnit)):0;AV.temp[AZ]=s.attr("data-val");AU(A0,AZ,A1,A2,e);setTimeout(function(){z(A2,AZ,true,A3,e)},10)}function Aa(e){var m=Ao[Au]+1;Ag(e,m>AY?w:m,1,true)}function AB(e){var m=Ao[Au]-1;Ag(e,m<w?AY:m,2,true)}function AS(p,s,e,m,v){if(l&&!e){z(s,undefined,v)}Al=Aj.formatResult(AV.temp);if(!m){AV.values=AV.temp.slice(0);AV.val=Al}if(p&&Ap){AW=true;AQ.val(Al).change()}}function Az(m,p){var e;AJ.on(m,function(s){clearTimeout(e);e=setTimeout(function(){if((AH&&p)||!p){AV.position(!p)}},200)})}AV.position=function(A5){if(!i||t||(At===As.width()&&Y===(AJ[0].innerHeight||AJ.innerHeight())&&A5)||(AE("onPosition",[AA])===false)){return}var A0,A3,v,Bd,s,p,A8,Ba,Bf,A6,Be,AZ,e,A1=0,m=0,A4=AJ.scrollLeft(),A2=AJ.scrollTop(),A9=H(".dwwr",AA),A7=H(".dw",AA),Bb={},Bc=Aj.anchor===undefined?AQ:Aj.anchor;At=As.width();Y=AJ[0].innerHeight||AJ.innerHeight();if(/modal|bubble/.test(Aj.display)){H(".dwc",AA).each(function(){A0=H(this).outerWidth(true);A1+=A0;m=(A0>m)?A0:m});A0=A1>At?m:A1;A9.width(A0).css("white-space",A1>At?"":"nowrap")}Av=A7.outerWidth();AL=A7.outerHeight(true);AH=AL<=Y&&Av<=At;AV.scrollLock=AH;if(Aj.display=="modal"){A3=(At-Av)/2;v=A2+(Y-AL)/2}else{if(Aj.display=="bubble"){e=true;Bf=H(".dw-arrw-i",AA);p=Bc.offset();A8=Math.abs(H(Aj.context).offset().top-p.top);Ba=Math.abs(H(Aj.context).offset().left-p.left);Bd=Bc.outerWidth();s=Bc.outerHeight();A3=W(Ba-(A7.outerWidth(true)-Bd)/2-A4,3,At-Av-3);v=A8-AL;if((v<A2)||(A8>A2+Y)){A7.removeClass("dw-bubble-top").addClass("dw-bubble-bottom");v=A8+s}else{A7.removeClass("dw-bubble-bottom").addClass("dw-bubble-top")}A6=Bf.outerWidth();Be=W(Ba+Bd/2-(A3+(Av-A6)/2)-A4,0,A6);H(".dw-arr",AA).css({left:Be})}else{Bb.width="100%";if(Aj.display=="top"){v=A2}else{if(Aj.display=="bottom"){v=A2+Y-AL}}}}Bb.top=v<0?0:v;Bb.left=A3;A7.css(Bb);As.height(0);AZ=Math.max(v+AL,Aj.context=="body"?H(document).height():AP.scrollHeight);As.css({height:AZ,left:A4});if(e&&((v+AL>A2+Y)||(A8>A2+Y))){t=true;setTimeout(function(){t=false},300);AJ.scrollTop(Math.min(v+AL-Y,AZ-Y))}};AV.enable=function(){Aj.disabled=false;if(Ap){AQ.prop("disabled",false)}};AV.disable=function(){Aj.disabled=true;if(Ap){AQ.prop("disabled",true)}};AV.setValue=function(s,m,p,e){AV.temp=H.isArray(s)?s.slice(0):Aj.parseValue.call(o,s+"",AV);AS(m,p,false,e,m)};AV.getValue=function(){return AV.values};AV.getValues=function(){var m=[],e;for(e in AV._selectedValues){m.push(AV._selectedValues[e])}return m};AV.changeWheel=function(s,p,v){if(AA){var e=0,m=s.length;H.each(Aj.wheels,function(A0,AZ){H.each(AZ,function(A2,A1){if(H.inArray(e,s)>-1){AO[e]=A1;H(".dw-ul",AA).eq(e).html(Aq(e));m--;if(!m){AV.position();z(p,undefined,v);return false}}e++});if(!m){return false}})}};AV.isVisible=function(){return l};AV.tap=function(m,s){var e,p;if(Aj.tap){m.on("touchstart.dw mousedown.dw",function(v){v.preventDefault();e=E(v,"X");p=E(v,"Y")}).on("touchend.dw",function(v){if(Math.abs(E(v,"X")-e)<20&&Math.abs(E(v,"Y")-p)<20){s.call(this,v)}U()})}m.on("click.dw",function(v){if(!K){s.call(this,v)}v.preventDefault()})};AV.show=function(m){if(Aj.disabled||l){return}if(Aj.display=="top"){Ad="slidedown"}if(Aj.display=="bottom"){Ad="slideup"}Aw();AE("onBeforeShow",[]);var A1,p=0,AZ="";if(Ad&&!m){AZ="dw-"+Ad+" dw-in"}var s='<div role="dialog" class="'+Aj.theme+" dw-"+Aj.display+(X?" dw"+X.replace(/\-$/,""):"")+(AK?"":" dw-nobtn")+'">'+(!i?'<div class="dw dwbg dwi">':'<div class="dw-persp"><div class="dwo"></div><div class="dw dwbg '+AZ+'"><div class="dw-arrw"><div class="dw-arrw-i"><div class="dw-arr"></div></div></div>')+'<div class="dwwr"><div aria-live="assertive" class="dwv'+(Aj.headerText?"":" dw-hidden")+'"></div><div class="dwcc">',v=H.isArray(Aj.minWidth),e=H.isArray(Aj.maxWidth),A0=H.isArray(Aj.fixedWidth);H.each(Aj.wheels,function(A3,A2){s+='<div class="dwc'+(Aj.mode!="scroller"?" dwpm":" dwsc")+(Aj.showLabel?"":" dwhl")+'"><div class="dwwc dwrc"><table cellpadding="0" cellspacing="0"><tr>';H.each(A2,function(A5,A4){AO[p]=A4;A1=A4.label!==undefined?A4.label:A5;s+='<td><div class="dwwl dwrc dwwl'+p+'">'+(Aj.mode!="scroller"?'<a href="#" tabindex="-1" class="dwb-e dwwb dwwbp" style="height:'+Ax+"px;line-height:"+Ax+'px;"><span>+</span></a><a href="#" tabindex="-1" class="dwb-e dwwb dwwbm" style="height:'+Ax+"px;line-height:"+Ax+'px;"><span>&ndash;</span></a>':"")+'<div class="dwl">'+A1+'</div><div tabindex="0" aria-live="off" aria-label="'+A1+'" role="listbox" class="dwww"><div class="dww" style="height:'+(Aj.rows*Ax)+"px;"+(Aj.fixedWidth?("width:"+(A0?Aj.fixedWidth[p]:Aj.fixedWidth)+"px;"):(Aj.minWidth?("min-width:"+(v?Aj.minWidth[p]:Aj.minWidth)+"px;"):"min-width:"+Aj.width+"px;")+(Aj.maxWidth?("max-width:"+(e?Aj.maxWidth[p]:Aj.maxWidth)+"px;"):""))+'"><div class="dw-ul">';s+=Aq(p);s+='</div><div class="dwwol"></div></div><div class="dwwo"></div></div><div class="dwwol"></div></div></td>';p++});s+="</tr></table></div></div>"});s+="</div>";if(i&&AK){s+='<div class="dwbc">';H.each(Af,function(A3,A2){A2=(typeof A2==="string")?AV.buttons[A2]:A2;s+="<span"+(Aj.btnWidth?' style="width:'+(100/Af.length)+'%"':"")+' class="dwbw '+A2.css+'"><a href="#" class="dwb dwb'+A3+' dwb-e" role="button">'+A2.text+"</a></span>"});s+="</div>"}s+=(i?"</div>":"")+"</div></div></div>";AA=H(s);As=H(".dw-persp",AA);q=H(".dwo",AA);z();AE("onMarkupReady",[AA]);if(i){AA.appendTo(Aj.context);if(Ad&&!m){AA.addClass("dw-trans");setTimeout(function(){AA.removeClass("dw-trans").find(".dw").removeClass(AZ)},350)}}else{if(AQ.is("div")){AQ.html(AA)}else{AA.insertAfter(AQ)}}AE("onMarkupInserted",[AA]);l=true;if(i){H(window).on("keydown.dw",function(A2){if(A2.keyCode==13){AV.select()}else{if(A2.keyCode==27){AV.cancel()}}});if(Aj.scrollLock){AA.on("touchmove",function(A2){if(AH){A2.preventDefault()}})}H("input,select,button",AP).each(function(){if(!this.disabled){if(H(this).attr("autocomplete")){H(this).data("autocomplete",H(this).attr("autocomplete"))}H(this).addClass("dwtd").prop("disabled",true).attr("autocomplete","off")}});AV.position();Az("orientationchange.dw resize.dw",false);Az("scroll.dw",true)}AA.on("DOMMouseScroll mousewheel",".dwwl",y).on("keydown",".dwwl",Ab).on("keyup",".dwwl",AM).on("selectstart mousedown",B).on("click",".dwb-e",B).on("touchend",function(){if(Aj.tap){U()}}).on("keydown",".dwb-e",function(A2){if(A2.keyCode==32){A2.preventDefault();A2.stopPropagation();H(this).click()}});setTimeout(function(){H.each(Af,function(A3,A2){AV.tap(H(".dwb"+A3,AA),function(A4){A2=(typeof A2==="string")?AV.buttons[A2]:A2;A2.handler.call(this,A4,AV)})});if(Aj.closeOnOverlay){AV.tap(q,function(){AV.cancel()})}AA.on(V,".dwwl",Ai).on(V,".dwb-e",Z)},300);AE("onShow",[AA,Al])};AV.hide=function(m,p,s){if(!l||(!s&&AE("onClose",[Al,p])===false)){return}H(".dwtd",AP).each(function(){H(this).prop("disabled",false).removeClass("dwtd");if(H(this).data("autocomplete")){H(this).attr("autocomplete",H(this).data("autocomplete"))}else{H(this).removeAttr("autocomplete")}});if(AA){var e=i&&Ad&&!m;if(e){AA.addClass("dw-trans").find(".dw").addClass("dw-"+Ad+" dw-out")}if(m){AA.remove()}else{setTimeout(function(){AA.remove();if(F){G=true;F.focus()}},e?350:1)}AJ.off(".dw")}b={};l=false};AV.select=function(){if(AV.hide(false,"set")!==false){AS(true,0,true);AE("onSelect",[AV.val])}};AV.attachShow=function(m,e){Ac.push(m);if(Aj.display!=="inline"){m.on((Aj.showOnFocus?"focus.dw":"")+(Aj.showOnTap?" click.dw":""),function(p){if((p.type!=="focus"||(p.type==="focus"&&!G))&&!K){if(e){e()}F=m;AV.show()}setTimeout(function(){G=false},300)})}};AV.cancel=function(){if(AV.hide(false,"cancel")!==false){AE("onCancel",[AV.val])}};AV.init=function(m){Ak=T.themes[m.theme||Aj.theme];AI=T.i18n[m.lang||Aj.lang];P(u,m);AE("onThemeLoad",[AI,u]);P(Aj,Ak,AI,u);Aj.buttons=Aj.buttons||["set","cancel"];Aj.headerText=Aj.headerText===undefined?(Aj.display!=="inline"?"{value}":false):Aj.headerText;AV.settings=Aj;AQ.off(".dw");var e=T.presets[Aj.preset];if(e){Ae=e.call(o,AV);P(Aj,Ae,u)}Ar=Math.floor(Aj.rows/2);Ax=Aj.height;Ad=Aj.animate;i=Aj.display!=="inline";Af=Aj.buttons;AJ=H(Aj.context=="body"?window:Aj.context);AP=H(Aj.context)[0];if(!Aj.setText){Af.splice(H.inArray("set",Af),1)}if(!Aj.cancelText){Af.splice(H.inArray("cancel",Af),1)}if(Aj.button3){Af.splice(H.inArray("set",Af)+1,0,{text:Aj.button3Text,handler:Aj.button3})}AV.context=AJ;AV.live=!i||(H.inArray("set",Af)==-1);AV.buttons.set={text:Aj.setText,css:"dwb-s",handler:AV.select};AV.buttons.cancel={text:(AV.live)?Aj.closeText:Aj.cancelText,css:"dwb-c",handler:AV.cancel};AV.buttons.clear={text:Aj.clearText,css:"dwb-cl",handler:function(){AV.trigger("onClear",[AA]);AQ.val("");if(!AV.live){AV.hide()}}};AK=Af.length>0;if(l){AV.hide(true,false,true)}if(i){Aw();if(Ap){if(AX===undefined){AX=o.readOnly}o.readOnly=true}AV.attachShow(AQ)}else{AV.show()}if(Ap){AQ.on("change.dw",function(){if(!AW){AV.setValue(AQ.val(),false,0.2)}AW=false})}};AV.option=function(p,e){var m={};if(typeof p==="object"){m=p}else{m[p]=e}AV.init(m)};AV.destroy=function(){AV.hide(true,false,true);H.each(Ac,function(m,e){e.off(".dw")});H(window).off(".dwa");if(Ap){o.readOnly=AX}delete O[o.id];AE("onDestroy",[])};AV.getInst=function(){return AV};AV.getValidCell=x;AV.trigger=AE;O[o.id]=AV;AV.values=null;AV.val=null;AV.temp=null;AV.buttons={};AV._selectedValues={};AV.init(u)};function S(Y){if(Y.type==="touchstart"){D=true}else{if(D){D=false;return false}}return true}function U(){K=true;setTimeout(function(){K=false},300)}function W(a,Y,Z){return Math.max(Y,Math.min(a,Z))}function Q(Y){var Z={values:[],keys:[]};H.each(Y,function(b,a){Z.keys.push(b);Z.values.push(a)});return Z}var F,R,K,D,G,T=H.mobiscroll,O=T.instances,M=T.util,X=M.prefix,N=M.jsPrefix,C=M.has3d,E=M.getCoord,I=function(){},B=function(Y){Y.preventDefault()},P=H.extend,V="touchstart mousedown",J="touchmove mousemove",L="touchend mouseup",A={width:70,height:40,rows:3,delay:300,disabled:false,readonly:false,closeOnOverlay:true,showOnFocus:true,showOnTap:true,showLabel:true,wheels:[],theme:"sense-ui",selectedText:" Selected",closeText:"Close",display:"modal",mode:"scroller",preset:"",lang:"zh",setText:"Set",cancelText:"Cancel",clearText:"Clear",context:"body",scrollLock:true,tap:true,btnWidth:true,speedUnit:0.0012,timeUnit:0.1,formatResult:function(Y){return Y.join(" ")},parseValue:function(Y,Z){var c=Y.split(" "),d=[],b=0,a;H.each(Z.settings.wheels,function(f,e){H.each(e,function(h,g){g=g.values?g:Q(g);a=g.keys||g.values;if(H.inArray(c[b],a)!==-1){d.push(c[b])}else{d.push(a[0])}b++})});return d}};H(window).on("focus",function(){if(F){G=true}});H(document).on("mouseover mouseup mousedown click",function(Y){if(K){Y.stopPropagation();Y.preventDefault();return false}});H.mobiscroll.setDefaults=function(Y){P(A,Y)}})(jQuery);